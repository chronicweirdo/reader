<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta name="viewport"
          content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="bookId" content="1" th:content="${id}">
    <meta name="bookTitle" content="1" th:content="${title}">
    <meta name="bookStart" content="0" th:content="${bookStart}">
    <meta name="bookEnd" content="0" th:content="${bookEnd}">
    <meta name="size" content="20" th:content=${size}>
    <title th:text="${title}">Book Title</title>

    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="/gold_logo.png">
    <link rel="apple-touch-icon" href="/gold_logo.png">
    <link rel="stylesheet" type="text/css" href="fonts.css">
    <link rel="stylesheet" type="text/css" href="book.css">
    <link rel="stylesheet" type="text/css" href="tools.css">

    <script src="hammer.min.js"></script>
    <script src="settings.js"></script>
    <script src="gestures.js"></script>
    <script src="util.js"></script>
    <script src="bookNode.js"></script>
    <script src="book.js"></script>
</head>
<body onresize="handleResize()">
<div id="ch_prev"></div>
<div id="ch_next"></div>
<div id="ch_tools_left"></div>
<div id="ch_tools_right"></div>
<div id="ch_shadow_content"></div>
<div id="ch_content"></div>
<div id="ch_tools_container">
    <div id="ch_tools">
        <div th:fragment="fragment_node" th:remove="tag">
            <ul th:if="${not #lists.isEmpty(tableOfContents.children)}" >
                <li th:class="${not #lists.isEmpty(tableOfContents.children) ? 'ch_withsubchapters' : ''}" th:each="child : ${tableOfContents.children}"
                    th:inline="text"
                    th:with="tableOfContents = ${child}">
                    <p><a class="ch_chapter" th:ch_position="${child.position}" onclick="displayPageForTocEntry(this)" th:text="${child.title}">chapter name</a></p>
                    <ul th:replace="this::fragment_node">List Item</ul>
                </li>
            </ul>
        </div>
        <p class="ch_toc_separator"></p>
        <p id="ch_collection" th:if="${collection != ''}"><a th:href="@{/(search=${collection})}" th:text="${collection}">collection</a></p>
        <h1 th:text="${title}">Book Title</h1>
        <p><span>progress:</span><span id="positionInput"></span></p>
        <p id="pagesLeft"></p>
        <p><a onclick="toggleSettings()">settings</a></p>
        <div id="ch_settings"></div>
        <p id="ch_back"><a onclick="goHome()">library</a></p>
    </div>
</div>
<div id="ch_spinner">
    <svg id="ch_spinner_svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;display:block;" viewBox="0 0 100 140" preserveAspectRatio="xMidYMid">
        <rect x="20" y="20" width="60" height="100" stroke="#000000" stroke-width="10" fill="none"></rect>
        <rect x="20" y="20" width="60" height="100" stroke="#ffd700" stroke-width="10" stroke-linecap="square" fill="none" stroke-dasharray="160 160">
            <animate attributeName="stroke-dashoffset" repeatCount="indefinite" dur="3s" keyTimes="0;0.5;1" values="0;-160;-320"></animate>
        </rect>
    </svg>
    <a href="/">cancel</a>
    <p id="ch_errorPanel"></p>
</div>
</body>
</html>